<!DOCTYPE html>
<html>
<head><title>Submit Certificate</title></head>
<body>
<h1>Submit Your Certificate</h1>
<form id="certForm">
    Receiver Public Key: <input name="receiver"><br>
    Certificate Data: <textarea name="certificate_data"></textarea><br>
    <button type="submit">Submit</button>
</form>
<pre id="result"></pre>

<script>
document.getElementById("certForm").onsubmit = e => {
    e.preventDefault();
    const form = new FormData(e.target);
    const data = Object.fromEntries(form.entries());
    fetch("/api/register_certificate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
    }).then(res => res.json())
      .then(d => document.getElementById("result").innerText = JSON.stringify(d, null, 2));
};
</script>
</body>
</html>